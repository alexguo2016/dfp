## 第一章, UML 预览

### UML 用于软件需求分析比较合适, 可能是因为它涉及了软件开发的各个方面, 例如总的设计和逻辑设计等等

### UML 分为 2 类, 结构型和行为型的

我觉得, 结构型主要是用于解释静态的东西, 不会有其他的变化, 行为型的图则对于动态的展示有一定的优势, 例如流程, 过程等等

#### 结构型图

##### 类图

一般可以用来展示一个具体的东西, 例如一个类, 里面可以有类的方法和属性, 用作分析业务模型的时候, 一般不需要展示操作, 仅仅展示属性即可

##### 对象图

和类图差不多, 不过多了一个表示属于哪个类的字段, 也多了从类那里拿到的方法

##### 构件图

表示一些“物理部件”, 如果对于软件来说, 就是例如数据库, 逻辑等等可以分开的独立部分
构件图一般不会独立使用, 会和部署图一起使用

##### 部署图

用来描述系统如何部署, 即如何运行起来的图, 也会包含和其他系统之间的关系, 这些管理都是一些物理链接, 例如 Lan, internet 等等
部署图里面, 每个矩形节点, 就是一个物理设备, 设备的参数写在矩形里面

##### 包图

就是将类图打包之后的表示

#### 行为型图

##### 活动图

用箭头和椭圆表示的, 活动的先后次序

##### 状态机图

类似一些审批流程, 有分支, 有顺序, 状态之际按一定的规则转换

##### 顺序图

类似于活动图, 不同的是, 活动图一直都是同一个主体, 顺序图则是每个动作都可能是不同的主体

##### 通讯图

也叫协作图, 表示不同角色之间的互动

##### 用例图

表示什么角色可以使用系统做什么事情, 可以表示绝大部分的软件开发需求

##### 时序图

表示某东西的状态随时间变化而变化的图, 主体不会改变

### 掌握程度

需要做的事情有

1. 选择一个最熟悉的项目, 描述出该系统能做什么事情
2. 总结最近一个月的主要工作情况
3. 总结最近一个月的学习情况

## 第二章, 需求分析工作

### 需求分析, 不同的角色, 对需求的理解可能会有很大的差别

因为角色都是以自己的理解来叙述
其次, 客户对需求的认识可能是持续化的, 这样有可能出现需求变更的事情

### 持续进化的客户需求

客户有提出问题, 证明了客户在使用产品, 这个时候应该尽力去解决问题.
软件只有对客户的工作真正有帮助时, 软件才是可用的, 只有可用的软件, 才能使得公司盈利.
一般来说, 公司对需求的理解总是低于客户的, 因为消息是二手的, 如果没有改进, 则在客户方看来, 公司的技术总是不能完美地实现需求.
除非项目组对于需求的理解比客户还要深刻.

### 需要分清楚, 原始需求和实现手段之间的区别

#### 什么是软件需求分析工作? 需求分析的大道理

1. 明确项目背景
1. 需求
   1. 项目解决了客户什么问题
   1. 项目涉及的人和单位
   1. 项目的目标是什么?
   1. 项目的范围
   1. 项目的成功标准
1. 订立详细的需求规格说明书
   1. 功能性需求
   1. 非功能性需求

需要主要的是, 不能只看需求规格说明书, 应该实际地想想, 能够给客户带来实际效益的点

### 使用 UML, 进行需求分析

只有全面深入理解客户的业务, 才能帮助我们准确地把握客户的需要
一般来说, 我们会做 ### 业务流程再造 Business Process Reenineering ###, 因为, 客户并不是仅仅需要一个软件系统, 而是需要借助这个软件系统, 改变实际的工作模式, 工作习惯, 管理思想等等

#### 怎么做?

可以利用结构型 UML 图对客户业务进行结构建模, 利用行为型 UML 图进行行为建模

### 掌握程度

需要做的事情有:

1. 根据自己的需求分析经验 写出最少 3 点最麻烦的问题
1. 项目组对于需要的理解一直高于客户, 主要可能吗? 应该追求这样的境界吗?

## 分析业务模型, 类图

可能是用的最多的一种图, 适用于锻炼面向对象分析和面向对象设计.

### 面向过程和面向对象

### 类图的基本知识

类图, 是一个矩形的方框, 最上面是类的名字, 中间是属性, 最下面是操作

#### 如何识别类

步骤如下:

1. 识别类
1. 识别类的主要属性
1. 写出类之间的关系
1. 对各个类进行分析, 抽象, 整理

### 类之间的关系

1. 关联关系, 直线关系, 两端可以标数字, 表示数量之间的关系, 也可以标其他, 例如表示上司和下属, 如果有箭头, 表示“导航”, a 指向 b, 表示由 a 可以找到 b
2. 包含关系, 直线+一个菱形, 菱形一端是比较大的概念
3. 继承关系, 直线+三角形, 三角形一端是父级概念
4. 依赖关系, 虚线+箭头, 箭头异端是被依赖的概念

### 演练类之间的关系

1. 人际关系
2. 公司与雇员之间的关系
3. 香蕉、苹果、梨子之间的关系
4. 公司的组织架构

### 类的递归关系与三角关系

1. 递归, 其实可能就是自包含
1. 三角关系, 直线关联中间, 一条虚线表示对两个类关系的进一步约束, 这些约束可能就是两个类共有的属性

类图的魅力在于帮助我们发掘和提炼业务模型

### 考试关系系统, 类图的综合训练

考试管理系统

1. 讲师会讲 n 个课, 大部分需要一次考试, 一些不需要
2. 考试题目讲师出题
3. 学生需要参加很多考试, 每个考试都有成绩

问题

1. 考试是一个类吗? 如果是, 考试这个类代表的是怎样的意思?

   - 考试是一个类, 代表的是一项活动

2. 分析出与考试直接相关的类都有哪些

   - 讲师
   - 学生
   - 成绩
   - 课程

3. 考试类与其他类的关系是怎样的?
   - 考试依赖于讲师
   - 成绩依赖于考试
   - 考试和课程是 n 对 1 的关联
   - 学生和考试是 1 对 n 的关联
   - 学生和成绩是 1 对 n 的关联

建议:

1. 从系统的目标出发来思考问题
1. 类图分析的基本步骤:
   1. 识别类
   1. 识别属性
   1. 画出关系
   1. 整理和提炼
1. 识别类的关键属性
1. 多读图, 从不同的方向来读图
1. 只需要表达出直接的关系即可
1. 现实中, 一个图可能表达不出所有的内容, 分成多个图来表达, 每个图尽量只表达一个具体的类, 都有自己不同的表现重点
1. 识别“原生”内容和 “导出”内容
1. 识别关联类是难点也是关键点
1. 合理分析, 逐步优化
1. 多练习, 多讨论, 自然提高

### 关于对象图

分析系统的时候, 其实需要解决的是一类问题, 我们很多时候都不需要使用对象图, 只需要使用类图即可

### 小结与练习

练习

1. 一辆小车有 4 个轮子, 请使用类图表示出来
1. 一辆货车也有 4 个轮子, 但货车的前轮和后轮不太一样, 如何表示?
1. 表示项目组的人员组成(项目组包含怎样的角色? 项目组架构是树形的还是网络架构?)
1. 设计一个论坛, 使用类图表达出分区、 版块、 子版块、 帖子等等论坛常见元素的关系
1. 从做过或者正在做的项目中挑选一个, 使用类图来分析该项目的需求或者部分需求

## 流程分析利器, 活动图

活动图和流程图相似, 比较容易掌握, 需要了解的是, 使用活动图来分析业务流程的思维方法
需要牢记的一点是:
无论做什么项目, 都需要了解, 项目的目的是什么, 项目的作用是什么, 有了这个项目之后, 客户会有什么改变或者是得到什么好处

### 结构建模与行为建模, 活动图可以用于行为建模

类图是进行结构建模的重要工具, 是静态的, 用来了解食物内容以及事物之间的关系
活动图是行为建模的重要工具之一, 是动态的, 用来了解流程相关的问题

### 流程图

最基础的图, 可以表示一些活动, 以及活动之间的关系, 例如表示一些情况的选择等等

### 活动图

一般来说, 活动图有开始和结束
使用一个圆角矩形表示一个活动, 菱形表示分支, 如果有合并, 也是使用菱形, 中括号表示“监护”, 其实就是选择条件(满足的时候)

#### 泳道/分区

可以将活动图根据不同的角色进行划分
当流程涉及多个角色的时候, 使用泳道图, 可以很好地区分不同角色的行动

#### 使用活动图分析业务流程的思考

对活动的每一个角色, 每一个活动其实都可以进一步追问

### 会签评审系统, 活动图进阶

分支和汇合
注意理解需求

#### 对象流

活动的文字表达要求是动宾或者主动宾的方式

### 活动的粒度问题

活动和动作都可以使用圆角矩形来表示
活动可以细分不同的动作, 动作不可细分
一般来说, 活动即可, 不需要太过于细分

#### 粒度问题

实践建议

1. 想清楚活动图的表达内容, 表达的重点是什么
1. 确定合适的活动图粒度
1. 可以先用大粒度的活动, 理解大致的流程
1. 逐步细化粒度
1. 需要重点说明的地方, 粒度应该足够细

### 版本发布流程

1. 明确该流程的业务目的
1. 角色都有哪些, 哪些是主要角色
1. 先管主要流程, 不管次要流程
1. 主流程上面的角色, 需要明确
1. 逐步增加分支流程
1. 控制活动的粒度
1. 改善

## 状态机图

如果是围绕某一事物的状态展开时, 应该首选状态机图

## 顺序图

当流程设计到多个角色, 并且通过多对角色交互展开时, 顺序图时不二选择

反馈, 生命线, 激活框, 消息, 返回值

背后有人

通信图

## 用例图

1. 这个系统有谁在用
2. 这些人通过这个系统能做什么事情
   有点像公仔书
   用例图关注的是系统的外在表现、系统与人的交互、系统与其他系统的交互

### 用例图进阶

角色的继承, include, extend, 用例的继承

## 部署图, 构件图, 描述系统的框架

用来描述一些非功能性的需求, 例如使用什么硬件等等

非功能性需求, 也是需要的重要一部分, 有时候, 甚至大大影响工作的进度.
很多项目往往在初期就对技术框架有一定的限制, 例如

1. 在原有的系统基础上开发
1. 和已经存在的系统做对接
1. 需要充分利用客户现有的 it 资源
1. 外包公司接项目的时候, 一定会选自己成熟的技术框架
1. 安全性, 可靠性和性能方面的需要

使用部署图和构件图, 可以很好地描述这些问题并且给出解决的思路

### 什么是部署图

 主要目的是, 在物理层次上面做整体的系统规划
由 node--物理节点, tags--描述关系信息, communication Path--通信路径等等组成

### 什么是构件图

构件图也叫组件图
构件有如下特点:

1. 可以实现一定的功能, 或者提供一些服务
1. 不能单独运行, 需要作为系统的一部分来发挥作用
1. 是物理上的概念, 不是逻辑上的概念
1. 可以单独维护, 独立升级, 可替换而不影响整个系统

### 部署图和构件图的捆绑应用

### 如何获取和描述非功能性需求

一般包括以下两个方面

1. 软件技术架构的要求
1. 安全性, 易用性性能等方面的要求

#### 获取系统的非功能性需求的时候需要注意

1. 善用客户本身的 it 资源, 节省客户的投资
1. 从实用角度出发, 定出合适的安全性, 易用性, 性能等方面的指标
1. 客户往往不是 it 专业人士, 这更需要我们更加深入了解客户 it 架构需要, 提出专业的方案

### 练习

1. 综合运用部署图和构件图, 画出所在公司的 it 网络架构图
1. 参与过的项目, 重新描述该项目的非功能性需求, 包括用部署图和构件图画出系统的 it 网络架构图, 用合适的方式说明系统的安全性, 易用性和性能等等方面的要求

## 组织你的 UML 图--包图
